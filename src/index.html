<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Image to ASCII Converter</title>
    <link rel="stylesheet" href="assets/css/site.css" />
  </head>
  <body
    class="min-h-screen flex flex-col items-center justify-center p-4 selection:bg-blue-500/30 text-slate-900 dark:text-white transition-colors duration-500"
  >
    <!-- Background Gradients -->
    <div
      class="fixed inset-0 -z-10 transition-opacity duration-500 bg-[radial-gradient(circle_at_50%_0%,_#dcdde0_0%,_#afb0b3_45%,_#94a3b8_100%)] opacity-100"
    ></div>
    <div
      class="fixed inset-0 -z-10 transition-opacity duration-500 bg-[radial-gradient(circle_at_50%_0%,_#040135_0%,_#0f172a_60%,_#09090b_100%)] opacity-0 dark:opacity-100"
    ></div>

    <!-- Theme Toggle -->
    <button
      id="themeToggle"
      class="fixed top-4 right-4 z-50 p-2.5 rounded-full bg-white/20 backdrop-blur-md border border-white/20 text-slate-700 dark:text-white hover:bg-white/30 transition-all shadow-lg cursor-pointer"
      aria-label="Toggle Theme"
    >
      <!-- Icon injected by JS -->
    </button>
    <!-- Main Glass Card -->
    <main
      class="w-full max-w-5xl bg-white/40 dark:bg-white/5 backdrop-blur-2xl border border-white/20 dark:border-white/10 rounded-3xl shadow-2xl overflow-hidden flex flex-col md:flex-row min-h-[80vh] transition-colors duration-500"
    >
      <!-- Sidebar / Controls -->
      <aside
        class="w-full md:w-80 lg:w-96 p-6 md:p-8 border-b md:border-b-0 md:border-r border-white/20 dark:border-white/10 flex flex-col gap-6 bg-white/60 dark:bg-black/20"
      >
        <header>
          <h1
            class="text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-800 bg-clip-text text-transparent"
          >
            ASCII Art
          </h1>
          <p class="text-slate-600 dark:text-white/50 text-sm mt-1">
            Image to Text Converter
          </p>
        </header>

        <!-- Drop Zone -->
        <div class="space-y-2">
          <label class="text-sm font-medium text-slate-700 dark:text-white/70"
            >Upload Image</label
          >
          <div
            id="dropZone"
            class="group h-40 border-2 border-dashed border-slate-300 dark:border-white/20 rounded-2xl flex flex-col items-center justify-center text-center cursor-pointer transition-all duration-300 hover:border-blue-500/50 hover:bg-blue-500/5 relative overflow-hidden"
          >
            <div
              class="absolute inset-0 bg-gradient-to-br from-blue-500/10 to-indigo-500/10 opacity-0 group-hover:opacity-100 transition-opacity"
            ></div>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-8 h-8 text-slate-400 dark:text-white/40 mb-3 group-hover:text-blue-500 dark:group-hover:text-blue-400 transition-colors"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"
              />
            </svg>
            <p
              class="text-sm text-slate-500 dark:text-white/60 font-medium relative z-10"
            >
              Drag file here<br /><span
                class="text-xs text-slate-400 dark:text-white/40"
                >or click to browse</span
              >
            </p>
          </div>
          <input type="file" id="fileInput" accept="image/*" class="hidden" />
        </div>

        <!-- Settings -->
        <div class="space-y-4">
          <div class="grid grid-cols-2 gap-4">
            <div class="space-y-1">
              <label
                for="asciiWidth"
                class="text-xs font-semibold text-slate-500 dark:text-white/50 uppercase tracking-wider"
                >Width</label
              >
              <input
                id="asciiWidth"
                type="number"
                value="120"
                class="w-full bg-white/20 dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:outline-none focus:border-blue-400/50 focus:bg-white/30 dark:focus:bg-white/10 transition-all font-mono text-sm"
              />
            </div>
            <div class="space-y-1">
              <label
                for="asciiHeight"
                class="text-xs font-semibold text-slate-500 dark:text-white/50 uppercase tracking-wider"
                >Height</label
              >
              <input
                id="asciiHeight"
                type="number"
                value="60"
                class="w-full bg-white/20 dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:outline-none focus:border-blue-400/50 focus:bg-white/30 dark:focus:bg-white/10 transition-all font-mono text-sm"
              />
            </div>
          </div>

          <div class="space-y-1">
            <label
              for="mode"
              class="text-xs font-semibold text-slate-500 dark:text-white/50 uppercase tracking-wider"
              >Mode</label
            >
            <div class="relative">
              <select
                id="mode"
                class="w-full appearance-none bg-white/20 dark:bg-white/5 border border-slate-200 dark:border-white/10 rounded-lg px-3 py-2 text-slate-900 dark:text-white focus:outline-none focus:border-blue-400/50 focus:bg-white/30 dark:focus:bg-white/10 transition-all cursor-pointer"
              >
                <option
                  value="bw"
                  class="bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white"
                >
                  Black & White (Classic)
                </option>
                <option
                  value="color"
                  class="bg-slate-100 dark:bg-slate-800 text-slate-900 dark:text-white"
                >
                  True Color
                </option>
              </select>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
                stroke-width="1.5"
                stroke="currentColor"
                class="w-4 h-4 text-slate-500 dark:text-white/50 absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  d="m19.5 8.25-7.5 7.5-7.5-7.5"
                />
              </svg>
            </div>
          </div>
        </div>

        <!-- Action Button (Convert) -->
        <button
          id="convertBtn"
          class="mt-auto w-full group relative overflow-hidden rounded-xl bg-gradient-to-r from-blue-600 to-purple-600 p-px focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-offset-2 focus:ring-offset-slate-900 cursor-pointer"
        >
          <span
            class="absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-600 opacity-50 group-hover:opacity-100 transition-opacity blur-md"
          ></span>
          <div
            class="relative flex items-center justify-center gap-2 bg-slate-950/50 group-hover:bg-transparent backdrop-blur-xl rounded-[11px] px-4 py-3 transition-colors"
          >
            <span class="font-semibold text-white">Generate ASCII</span>
          </div>
        </button>
      </aside>

      <!-- Output Area -->
      <section
        class="flex-1 relative bg-slate-100/50 dark:bg-black/40 flex flex-col min-h-[500px] transition-colors duration-500"
      >
        <!-- Toolbar -->
        <div class="absolute top-4 right-4 z-20 flex gap-2">
          <button
            id="downloadTextBtn"
            class="flex items-center gap-2 px-3 py-1.5 bg-white/50 dark:bg-black/40 hover:bg-white/80 dark:hover:bg-white/10 border border-slate-200 dark:border-white/10 rounded-full text-xs font-medium text-slate-700 dark:text-white transition-colors backdrop-blur-md cursor-pointer"
            title="Download as .txt"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-4 h-4"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"
              />
            </svg>
            TXT
          </button>
          <button
            id="downloadImageBtn"
            class="flex items-center gap-2 px-3 py-1.5 bg-white/50 dark:bg-black/40 hover:bg-white/80 dark:hover:bg-white/10 border border-slate-200 dark:border-white/10 rounded-full text-xs font-medium text-slate-700 dark:text-white transition-colors backdrop-blur-md cursor-pointer"
            title="Download as .png"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="1.5"
              stroke="currentColor"
              class="w-4 h-4"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"
              />
            </svg>
            PNG
          </button>
        </div>

        <!-- Scrollable Output -->
        <div
          class="flex-1 overflow-auto p-4 flex items-start justify-center custom-scrollbar"
        >
          <pre
            id="ascii"
            class="text-[8px] sm:text-[10px] md:text-[8px] lg:text-[10px] leading-[0.6] sm:leading-[0.6] font-['JetBrains_Mono',_monospace] whitespace-pre text-center origin-top text-slate-900 dark:text-white"
          ></pre>
        </div>

        <!-- Hidden Canvas -->
        <canvas id="canvas" class="hidden"></canvas>
      </section>
    </main>

    <script type="module" src="assets/js/theme.js"></script>
    <script type="module" src="assets/js/script.js"></script>
    <style>
      /* Custom Scrollbar for the output area */
      .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
        height: 8px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(0, 0, 0, 0.05); /* Light mode track */
      }
      .dark .custom-scrollbar::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05); /* Dark mode track */
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(0, 0, 0, 0.1); /* Light mode thumb */
        border-radius: 4px;
      }
      .dark .custom-scrollbar::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.1); /* Dark mode thumb */
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(0, 0, 0, 0.2);
      }
      .dark .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: rgba(255, 255, 255, 0.2);
      }
    </style>
  </body>
</html>
